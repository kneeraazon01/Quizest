{% extends "base.html" %} 
{% load static %}
{% block title %}{% endblock %} {% block content %}
<style>
  body {
    margin: 0;
    font-family: "Lato", sans-serif;
  }
  .sidebar {
    background-color: #3f3c3c;
    color: white;
    margin: auto;
    padding: 10px;
    width: 250px;
    position: fixed;
    height: 100vh;
    overflow: auto;
  }

  div.content {
    background-color: rgb(0, 0, 0);
    color: white;
    margin-left: 250px;
    padding-top: 30px;
    padding-left: 25px;
    height: 100vh;
  }
  table {
    border: 3px solid rgb(209, 195, 195);
    border-collapse: collapse;
    width: 100%;
    white-space: nowrap;
  }

  table,
  th {
    background-color: #020202ad;
    color: rgb(255, 255, 255);
    font-size: 12px;
    width: auto;
    height: min-content;
    white-space: nowrap;
  }

  table,
  tr {
    background-color: #363232ad;
    color: rgb(255, 255, 255);
    font-size: 12px;
    width: auto;
    height: min-content;
    white-space: nowrap;
  }

   #generate{
    text-decoration: none;
    color:rgb(245, 239, 239);
    background-color: rgb(10, 165, 157);
  }
    #download{
    text-decoration: none;
    color:rgb(245, 243, 243);
    background-color: rgb(15, 129, 129);
    }
</style>

<!-- Sidebar Starts -->
<div class="sidebar">
  <h4 disabled>Information Selection</h4>
  {{zip_file}}
  <form action="{% url 'home' %}" method="GET">
    {% csrf_token %}
    <!-- Select Markets -->
    <label class="" mt-3>Select Market:</label>
    <br />
    <select
      class="form-select"
      name="market_selected"
      id="market_selected"
      onchange="selectMarket()"
    >
      {% for market in markets %}
      <option class="text-primary" value="{{ market }}">{{ market }}</option>
      {% endfor %}
    </select>
    <p id="selected_market"></p>
    <p id="ExcelFileName"></p>
    <br />

    <!-- Select Options -->
    <label>Select Option</label>
    <br />
    <select
      class="form-select"
      name=""
      id="select_option"
      onchange="selectOption()"
    >
      <option value="1" name="opt4" value="cell" selected>Cell</option>
      <option value="2" name="opt3" value="enb">eNB</option>
    </select>
    <br />

    <!-- Select Cells EnodeB-->
    <label>Site eNodeB</label>
    <label for="flexCheckChecked"> Site eNodeB</label>
    <select
      class="form-select"
      name="select_option"
      aria-label=""
      id="site_node"
    >
      {% for enbs in enode_bs %}
      <option class="text-primary" name="opt4" value="{{ enbs }}">
        {{ enbs }}
      </option>
      {% endfor %}
    </select>
      <button type="submit" class="btn btn-primary mt-4">Load Data</button> 
  </form>
    <br />
    <form action="{% url 'home' %}" method="GET">
    {% csrf_token %}
    <label><span class="text-info">Select files to be generated</span></label>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        name="pnp"
        value="1"
        id="flexCheckChecked"
        checked
      />
      <label class="form-check-label" for="flexCheckChecked"> pnp </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value="2"
        name="enb"
        id="flexCheckChecked"
        checked
      />
      <label class="form-check-label" for="flexCheckChecked"> enb </label>
    </div>
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        name="cell"
        value="3"
        id="flexCheckChecked"
        checked
      />
      <label class="form-check-label" for="flexCheckChecked"> cell </label>
    </div>
   
    <button type="button" id="generate" name="generate" value="1" class="btn mt-4" onclick="showDownload()">
    <a href="#" id="generate"  >
      Generate PNP</a
    >
  </button>
 </form>
</div>

<!-- sidebar ends -->

<div class="content">
  <h2>GROW SITE WEB APP</h2>
  <p>
    This is an web app that performs the cell grow files from your ciq file.
  </p>
  <ul>
    <li>Select Market</li>
    <li>Select Site</li>
    <li>Run the App</li>
  </ul>

  <div style="overflow-x: auto">{{data | safe}}</div>

  <br>
  <button type="button" id="download" class="btn mt-4 mb-4" style="display:none;">
    <a href="{% url 'file' %}" target="_blank" id="download">
      Download PNP Files</a
    >
  </button>
</div>
<!-- content ends -->

<!-- Scripts Starts -->
<script>
  function selectMarket() {
    const market = document.getElementById("market_selected");
    const market_selected = document.getElementById("selected_market");
    const ExcelFileName = document.getElementById("ExcelFileName");
    market_selected.innerHTML = "CIQ FILE FOR  " + market.value;
    ExcelFileName.innerHTML = "example.xlsx";
  }
  function selectOption() {
    const option_sel = document.getElementById("select_option");
    const site_node = document.getElementById("site_node");
    console.log(option_sel.value);
    if (option_sel.value == 2) {
      site_node.setAttribute("multiple", "multiple");
    } else if (option_sel.value == 1) {
      site_node.removeAttribute("multiple");
    }
  }

  function showDownload(){
    const download = document.getElementById("download");
    download.style.display = "block";
    window.scrollTo(0,100);
  }
</script>
<!-- Scripts Ends-->
{% endblock %}
